## 10.1. Administración de usuarios

Para interactuar con la base de datos se crean los usuarios y cada usuario tiene permisos y roles, tenemos usuarios que pueden tener todos los permisos hasta usuarios que tengas muchas restricciones. Cada usuario tendrá el nombre de usuario, el modelo de autentificación el perfil de usuario y en caso de Oracle tendremos que definir el tablespce   

## 10.1.1. Administración de usuarios en Oracle

En Oracle tenemos varios modo de hacer la autentificación del usuario: 

- **Autentificación por BD**: 
Aquí es cuando el usuario entra por usuario y contraseña y esto se guarda en la base de datos encriptada, ósea Oracle es que se encarga de autenticar al usuario 

- **Autenticación externa**: 
La cuenta la mantiene Oracle pero la autentificación se encarga otro sistema operativo, ósea cuando se identifica con el sistema operativo ya puede entrar a la base de datos 

- **Cuentas administrativas**: 

Como ya sabemos en Oracle tenemos varias cuentas que tiene permisos y privilegios ya por defecto y estas son: 

- **SYS**: Es como un super administrador con todos los permiso (rol de DBA) no interesa modificarlo ya que allí esta el diccionario de datos 

- **SYSTEM**: Es el mismo que el anterior pero tiene una serie de vista y tablas ya creadas 

- **SYSMAN**: Realizar tareas administrativas utilizando el Enterprise Manager  

- **DBSMNP**: Es un controlador de Enterprise Manager

Por otros lados tenemos cuentas con muchos permisos por lo que se recomienda por tenemos de seguridad dividir estos roles ya que puede ser atacados por ciberdelincuentes y hacerse de estos permisos. Los roles con mas permisos son los siguientes: 

- **SYSTEM**: Tiene control total de la base de datos 
- **SYSPER**: Permite hacer tareas básicas pero sin ver todos los datos

Para evitar violaciones se recomienda dividir SYSDBA en roles que hagan cosas especificas
Ejemplo: 
- **SYSBACKUP**: Hacer copia de seguridad 
- **SYSDG**: Gestiones de de protección de datos  
- **SYSRAC**: Gestión de RAC
- **SYSKM**: Gestión de credenciales 

## Características de los usuarios en Oracle 

- **Nombre de usuarios**: Debe de ser único, ósea no se puede repetir, debe tener como máximo 30 caracteres y debe ser alfanumérico y puede tener los símbolos  $ y _ 

- **Configuración física**: Este es el espacio que tiene el usuario que puede utilizar

- **Perfil asociado**: son los diferente recurso que se le otorga 

- **Privilegios y roles**:  Concesión de funciones de que puede hacer el usuario

## STATUS (estados) de una cuenta de usuario

 - **OPEN (Abierto)**: La cuenta esta abierta y se puede trabajar sin problemas 
 
- **EXPIRED (Expirada)**: La cuenta esta expirada y no se puede entrar 

- **EXPIRED GRACE (Expirada en gracia)**: Esta expirada pero todavía se puede entrar en x días si luego se pasa de esos días y no actualiza la clave expirara del todo y no se puede entrar 

- **LOCKED (bloqueada)**: El administrador de del sistema ha bloqueado la cuenta  

- **LOCKED TIMED (bloqueada por un tiempo)**: Después de varios intento fallido de iniciar sección el sistema se bloqueada por un cierto tiempo 

- **EXPIRED & LOKED (La cuenta esta expirada y bloqueada)**: La cuenta ha expirado y se ha bloqueado


## Creación de usuario

**Creación de usuario**

Para crear un usuario en Oracle es obligatorio estar conectado con un usuario que tenga privilegios administrativos, como **SYSTEM** o **SYS**.

Una vez conectados, el usuario se crea con el siguiente comando:

`CREATE USER ilerna IDENTIFIED BY root;`

Para comprobar con qué usuario estamos conectados en la sesión actual se utiliza:

`SHOW USER;`


## Borrado de usuario

Para borrar el usuario tenemos que hacerlo de la siguiente manera 
`DROP USER nombre_usuario [CASCADE];`
El CASCADE se encargar todos los objeto relacionados de ese usuario

## Consulta de sistema 

Mediante `DESC DBA_USERS;` se muestra la lista de usuarios del sistema y su estructura

## Espacios en tablas (tablespaces)

Los espacio en tabla son estructura de almacenes de una BD (tabla, vista, procedimiento) por lo que por defecto Oracle crea los siguientes tablespaces: 

- SYSTEM: Diccionario de datos 
- SYSAUX: Componente de opciones de BD
- USER


## 10.1.2. Administración de usuarios en MySQL

## Cuentas reservadas

EN MySQL hay algunas cuentas predeterminada o reservada que viene por defecto al instalar el MySQL. Son los siguientes: 

- **ROOT**: Este usuario tiene lo privilegios, se recomienda cambiar el nombre por temas de seguridad 

- **MYSQL.SYS**: Sirve para definir objeto (vista, procedimiento, funciones), este usuario sirve para solucionar problemas que pueda tener el ROOT 

- **MYSQL.SESSION**: Es una aplicación internamente por plugins para acceder a al servidor  

## Privilegios administrativos

- **Privilegios de administrador**: Permite al usuario hacer acciones en el servidor de MySQL osea puede acceder a cualquier tabla de la base de datos que contenga el servidor 

